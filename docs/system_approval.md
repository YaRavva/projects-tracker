# Система утверждения проектов

## Описание

Система утверждения проектов позволяет администраторам рассматривать, утверждать, отклонять или возвращать на доработку проекты, созданные студентами.

## Статусы проектов

- **active** - Активный проект, утвержденный администратором
- **pending** - Проект на рассмотрении (статус по умолчанию при создании проекта студентом)
- **returned** - Проект возвращен на доработку с комментариями
- **rejected** - Проект отклонен с указанием причины
- **completed** - Проект завершен

## Компоненты системы

1. **ProjectStatusBadge** - Компонент для отображения статуса проекта
2. **ProjectModal** - Модальное окно с вкладками для просмотра и редактирования проекта, добавления комментариев и изменения статуса
3. **ProjectsTable** - Таблица проектов с отображением статуса и возможностью перехода к просмотру

## Структура базы данных

Для работы системы утверждения проектов используются следующие таблицы:

1. **projects** - Основная таблица с проектами
   - Поле `status` хранит текущий статус проекта
   - Значение по умолчанию для поля `status` - 'pending'

2. **project_reviews** - Таблица для хранения истории комментариев и изменений статуса
   - `project_id` - Ссылка на проект
   - `reviewer_id` - Ссылка на пользователя, оставившего комментарий
   - `status` - Статус проекта на момент комментария
   - `comment` - Текст комментария
   - `created_at` - Дата и время создания комментария
   - `status_changed` - Флаг, указывающий, был ли изменен статус в этом комментарии

## Логика работы

1. Студент создает проект, который автоматически получает статус "pending" (на рассмотрении)
2. Пользователь может кликнуть на проект в таблице, чтобы открыть модальное окно просмотра
3. В модальном окне отображается информация о проекте и история комментариев
4. Все пользователи могут добавлять комментарии к проекту
5. Администраторы могут изменять статус проекта:
   - Утвердить проект (статус "active")
   - Отклонить проект (статус "rejected")
   - Вернуть проект на доработку (статус "returned")
6. История комментариев и изменений статуса сохраняется в таблице project_reviews
7. Студент может внести изменения в проект и отправить его на повторное рассмотрение

## Фильтрация проектов

- Администраторы могут фильтровать проекты по статусу
- Студенты видят все активные проекты и свои проекты в любом статусе
- Фильтр "Показывать только мои проекты" позволяет студентам видеть только свои проекты
